# Configuration Document Extraction POC
# Copier ce fichier vers config.yaml et remplir les valeurs

# Google Cloud / Vertex AI
vertex_ai:
  project_id: "your-gcp-project-id"
  location: "europe-west1"
  model_name: "gemini-1.5-flash"
  # Chemin vers le fichier de credentials JSON (optionnel si GOOGLE_APPLICATION_CREDENTIALS est défini)
  credentials_path: null
  # Utiliser le mock si pas de credentials disponibles
  use_mock: true

# OCR Configuration
ocr:
  tesseract:
    # Langue(s) pour Tesseract (fra, eng, fra+eng)
    lang: "fra"
    # Configuration Tesseract (0-13, 6 = bloc de texte uniforme)
    psm: 6
    # OEM (0 = Legacy, 1 = LSTM, 2 = Legacy+LSTM, 3 = Default)
    oem: 3

# Preprocessing
preprocessing:
  pdf:
    # DPI pour conversion PDF -> Image
    dpi: 300
    # Format de sortie (PNG, JPEG)
    output_format: "PNG"
  image:
    # Appliquer le denoising
    denoise: true
    # Appliquer la binarisation adaptative
    binarize: true
    # Redresser automatiquement (deskew)
    deskew: true
    # Améliorer le contraste
    enhance_contrast: true

# Types de documents supportés
document_types:
  - invoice
  - contract

# Extraction - Champs par type de document
extraction:
  invoice:
    fields:
      - invoice_number
      - invoice_date
      - due_date
      - supplier_name
      - supplier_address
      - client_name
      - client_address
      - total_ht
      - total_tva
      - total_ttc
      - line_items
  contract:
    fields:
      - contract_type
      - parties
      - effective_date
      - end_date
      - total_amount
      - payment_terms
      - key_clauses
      - signatures

# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/extraction.log"

# Streamlit App
app:
  title: "Document Extraction POC"
  max_file_size_mb: 10
  allowed_extensions:
    - pdf
    - png
    - jpg
    - jpeg
    - tiff
